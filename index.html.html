<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ·±åº¦èº«å¿ƒå‹åŠ›ç”»åƒ | ç„¦è™‘ä¸èº¯ä½“åŒ–è‡ªè¯„</title>
    <!-- å¼•å…¥ Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            --primary-color: #6a85b6; 
            --secondary-color: #bac8e0;
            --accent-color: #96c93d;
            --card-shadow: 0 10px 30px rgba(106, 133, 182, 0.15);
            --text-main: #4a4a4a;
            --text-sub: #888;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
            background-image: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 500px;
            padding: 30px 24px;
            border-radius: 24px;
            box-shadow: var(--card-shadow);
            margin-top: 5vh;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            padding-bottom: 50px;
        }

        /* é¡¶éƒ¨è£…é¥°æ¡ */
        .container::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 6px;
            background: linear-gradient(90deg, #a18cd1 0%, #fbc2eb 100%);
        }

        h1 { font-size: 22px; color: #555; margin-bottom: 8px; text-align: center; font-weight: 600; }
        .subtitle { font-size: 13px; color: var(--text-sub); text-align: center; margin-bottom: 25px; display: block; letter-spacing: 1px; }

        /* è¿›åº¦æ¡ */
        .progress-header { display: flex; justify-content: space-between; font-size: 12px; color: #999; margin-bottom: 5px; }
        .progress-container {
            width: 100%;
            background-color: #f0f0f0;
            height: 6px;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #a18cd1, #fbc2eb);
            width: 0%;
            transition: width 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            border-radius: 10px;
        }

        /* é¢˜ç›®åŒºåŸŸ */
        #question-card { min-height: 250px; }
        #question-text { font-size: 18px; margin-bottom: 30px; line-height: 1.6; color: #333; font-weight: 500; }

        /* é€‰é¡¹æŒ‰é’® */
        .options-grid { display: flex; flex-direction: column; gap: 14px; }
        .option-btn {
            background: #fff;
            border: 1px solid #eee;
            padding: 18px;
            border-radius: 16px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
        }
        .option-btn:active { transform: scale(0.98); background: #f9f9f9; }
        .option-btn:hover { border-color: #a18cd1; background: #fdfaff; color: #6a85b6; }
        .option-circle { width: 18px; height: 18px; border-radius: 50%; border: 2px solid #ddd; }
        .option-btn:hover .option-circle { border-color: #a18cd1; background: #a18cd1; }

        /* åŠ¨ç”» */
        .fade-in-up { animation: fadeInUp 0.4s ease-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* ç»“æœé¡µæ ·å¼ */
        .chart-wrapper { position: relative; height: 320px; width: 100%; margin: 20px 0 40px 0; }
        
        .result-section {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 24px 20px;
            margin-bottom: 25px;
            border-left: 5px solid transparent;
        }
        /* ä¸åŒç»´åº¦çš„å·¦è¾¹æ¡†é¢œè‰²åŒºåˆ† */
        .section-A { border-left-color: #a29bfe; }
        .section-B { border-left-color: #ff7675; }
        .section-C { border-left-color: #fdcb6e; }
        .section-D { border-left-color: #74b9ff; }

        .section-title { font-weight: bold; color: #333; margin-bottom: 15px; display: flex; align-items: center; font-size: 17px; }
        .section-title span { margin-right: 10px; font-size: 22px; }
        
        .score-bar-container { margin-bottom: 20px; }
        .score-label { display: flex; justify-content: space-between; font-size: 13px; color: #666; margin-bottom: 8px; }
        .score-track { height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden; }
        .score-val { height: 100%; border-radius: 4px; }

        .analysis-block { margin-bottom: 15px; }
        .analysis-label { font-size: 13px; color: #999; font-weight: bold; margin-bottom: 5px; display: block; text-transform: uppercase; letter-spacing: 1px; }
        .analysis-content { font-size: 14px; line-height: 1.8; color: #555; text-align: justify; }

        .btn-restart {
            width: 100%;
            background: linear-gradient(90deg, #a18cd1, #fbc2eb);
            color: white; border: none; padding: 18px; border-radius: 30px;
            font-size: 16px; font-weight: bold; cursor: pointer;
            box-shadow: 0 8px 20px rgba(161, 140, 209, 0.3); margin-top: 20px;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 480px) {
            body { padding: 10px; }
            .container { 
                padding: 20px 16px; 
                border-radius: 20px;
                margin-top: 2vh;
            }
            #question-text { font-size: 16px; }
            .option-btn { padding: 14px; }
            .chart-wrapper { height: 280px; }
        }
    </style>
</head>
<body>

<div class="container" id="app">
    <!-- æ¬¢è¿é¡µé¢ -->
    <div id="welcome-screen" class="fade-in-up">
        <div style="text-align: center; font-size: 50px; margin-bottom: 15px;">ğŸ”</div>
        <h1>æ·±åº¦èº«å¿ƒå‹åŠ›ç”»åƒ</h1>
        <span class="subtitle">SCL-90 & GAD-7 è”åˆä¿®è®¢ç‰ˆ Â· å…± 48 é¢˜</span>
        
        <div style="background: #fff8f0; border: 1px solid #ffeeba; padding: 20px; border-radius: 12px; margin: 30px 0;">
            <p style="font-size: 14px; color: #856404; margin: 0; line-height: 1.6;">
                <strong>ğŸ’¡ æµ‹è¯„è¯´æ˜ï¼š</strong><br>
                æˆ‘ä»¬å°†ä»"æ€ç»´æ¨¡å¼"ä¸"èº¯ä½“ååº”"ä¸¤ä¸ªå±‚é¢ï¼Œä¸ºæ‚¨ç”Ÿæˆä¸€ä»½è¯¦ç»†çš„å‹åŠ›åˆ†å¸ƒå›¾ã€‚<br><br>
                è¯·æ ¹æ®æ‚¨<strong>æœ€è¿‘ä¸¤å‘¨</strong>çš„å®é™…æ„Ÿå—ï¼Œå‡­å€Ÿç›´è§‰é€‰æ‹©æœ€ç¬¦åˆçš„ä¸€é¡¹ã€‚
            </p>
        </div>

        <button class="btn-restart" onclick="startTest()">å¼€å§‹æ·±åº¦è¯„æµ‹</button>
    </div>

    <!-- æµ‹è¯•é¡µé¢ -->
    <div id="quiz-screen" style="display:none;">
        <div class="progress-header">
            <span id="progress-text">1 / 48</span>
            <span>è¿›åº¦</span>
        </div>
        <div class="progress-container">
            <div class="progress-fill" id="progress"></div>
        </div>
        
        <div id="question-card" class="fade-in-up">
            <h2 id="question-text">é¢˜ç›®åŠ è½½ä¸­...</h2>
            <div class="options-grid">
                <!-- é€‰é¡¹é€šè¿‡JSç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div id="result-screen" style="display:none;" class="fade-in-up">
        <div style="text-align: center; margin-bottom: 20px;">
            <h2 style="margin-bottom: 5px;">æ‚¨çš„èº«å¿ƒç”»åƒ</h2>
            <span class="subtitle" id="total-conclusion">åˆ†æç”Ÿæˆä¸­...</span>
        </div>

        <div class="chart-wrapper">
            <canvas id="resultChart"></canvas>
        </div>

        <div id="detailed-report">
            <!-- æŠ¥å‘Šé€šè¿‡JSç”Ÿæˆ -->
        </div>

        <div style="font-size: 12px; color: #ccc; text-align: center; margin-top: 30px; line-height: 1.5;">
            *æœ¬æŠ¥å‘Šä»…ä¾›å¿ƒç†å¥åº·è‡ªæˆ‘æ¢ç´¢å‚è€ƒ<br>ä¸ä½œä¸ºä¸´åºŠåŒ»ç–—è¯Šæ–­ä¾æ®
        </div>
        <button class="btn-restart" onclick="location.reload()">é‡æ–°æµ‹è¯•</button>
    </div>
</div>

<script>
    // é¢˜åº“æ•°æ®
    const questions = [
        // ç²¾ç¥ç„¦è™‘ (12é¢˜)
        { text: "æ€»æ˜¯æ„Ÿåˆ°ç¥ç»ç´§ç»·ï¼Œå¾ˆéš¾å½»åº•æ”¾æ¾ä¸‹æ¥", dim: "A" },
        { text: "å¯¹æœªæ¥å°šæœªå‘ç”Ÿçš„äº‹æƒ…ï¼Œæ€»æ˜¯å¿ä¸ä½åšæœ€åçš„æ‰“ç®—", dim: "A" },
        { text: "è„‘å­é‡Œåƒæœ‰ä¸€å›¢ä¹±éº»ï¼Œæ€ç»ªæ— æ³•åœæ­¢", dim: "A" },
        { text: "å®¹æ˜“æ„Ÿåˆ°çƒ¦èºã€æ˜“æ€’ï¼Œå¯¹ä»–äººçš„è€å¿ƒå˜å·®", dim: "A" },
        { text: "å…¥ç¡å›°éš¾ï¼Œæˆ–è€…ç¡ç€åå®¹æ˜“æƒŠé†’ã€å¤šæ¢¦", dim: "A" },
        { text: "æ³¨æ„åŠ›éš¾ä»¥é›†ä¸­ï¼Œè®°å¿†åŠ›ä¼¼ä¹åœ¨ä¸‹é™", dim: "A" },
        { text: "å¯¹æ—¥å¸¸çäº‹æ„Ÿåˆ°è¿‡åˆ†æ‹…å¿ƒï¼Œå³ä¾¿çŸ¥é“æ²¡å¿…è¦", dim: "A" },
        { text: "æ— ç¼˜æ— æ•…åœ°æ„Ÿåˆ°å®³æ€•ï¼Œå¥½åƒæŸç§åäº‹è¦å‘ç”Ÿ", dim: "A" },
        { text: "å®¹æ˜“è¢«å¾®å°çš„å£°éŸ³æˆ–åŠ¨ä½œæƒŠå“åˆ°", dim: "A" },
        { text: "æ„Ÿè§‰è‡ªå·±å¿«è¦å´©æºƒäº†ï¼Œæ— æ³•åº”å¯¹ç›®å‰çš„å¤„å¢ƒ", dim: "A" },
        { text: "å³ä½¿åœ¨ä¼‘æ¯æ—¶ï¼Œå¤§è„‘ä¹Ÿå¤„äºé«˜é€Ÿè¿è½¬çŠ¶æ€", dim: "A" },
        { text: "å¯¹ä»–äººçš„çœ¼ç¥æˆ–è¯„ä»·è¿‡åº¦æ•æ„Ÿ", dim: "A" },

        // èº¯ä½“æƒŠæ/æ¤ç‰©ç¥ç» (12é¢˜)
        { text: "åœ¨æ²¡æœ‰è¿åŠ¨çš„æƒ…å†µä¸‹ï¼Œæ„Ÿåˆ°å¿ƒè·³åŠ é€Ÿæˆ–å¿ƒæ…Œ", dim: "B" },
        { text: "æ‰‹è„šæœ‰æ—¶ä¼šä¸è‡ªè§‰åœ°é¢¤æŠ–æˆ–å‘éº»", dim: "B" },
        { text: "æ„Ÿåˆ°èº«ä½“å†…éƒ¨æœ‰ä¸€è‚¡ç‡¥çƒ­æˆ–è«åå‡ºæ±—ï¼ˆå¦‚æ‰‹å¿ƒå‡ºæ±—ï¼‰", dim: "B" },
        { text: "æ„Ÿåˆ°åç«‹ä¸å®‰ï¼Œèº«ä½“å¿…é¡»åŠ¨æ¥åŠ¨å»æ‰èˆ’æœ", dim: "B" },
        { text: "å¶å°”å‡ºç°é‚£ç§'é€ä¸è¿‡æ°”'çš„æ¿’æ­»æ„Ÿæˆ–æƒŠææ„Ÿ", dim: "B" },
        { text: "é¢éƒ¨å‘çƒ­æˆ–æ½®çº¢", dim: "B" },
        { text: "èº«ä½“å¿½å†·å¿½çƒ­ï¼Œè°ƒèŠ‚èƒ½åŠ›å˜å·®", dim: "B" },
        { text: "å¤œé—´ç›—æ±—ï¼Œé†’æ¥æ—¶æµ‘èº«æ¹¿é€", dim: "B" },
        { text: "æ„Ÿåˆ°å˜´å·´å‘å¹²ï¼Œå³ä¾¿å–äº†æ°´ä¹Ÿä¸è§£æ¸´", dim: "B" },
        { text: "å¿ƒè„å¶å°”æœ‰'æ¼è·³ä¸€æ‹'æˆ–åˆºç—›çš„æ„Ÿè§‰", dim: "B" },
        { text: "åœ¨äººå¤šçš„åœºåˆä¼šæ„Ÿåˆ°å¤´çš®å‘éº»æˆ–æ™•çœ©", dim: "B" },
        { text: "å°¿é¢‘ï¼Œå°¤å…¶åœ¨ç´§å¼ æ—¶é¢‘ç¹æƒ³ä¸Šå•æ‰€", dim: "B" },

        // è‚Œè‚‰éª¨éª¼ (12é¢˜)
        { text: "ç»å¸¸æ„Ÿåˆ°è…°é…¸èƒŒç—›ï¼Œæˆ–è€…è‚©è†€åƒæ‰›äº†é‡ç‰©", dim: "C" },
        { text: "å››è‚¢æ„Ÿåˆ°æ²‰é‡ï¼ŒåƒçŒäº†é“…ä¸€æ ·æŠ¬ä¸èµ·æ¥", dim: "C" },
        { text: "æ˜æ˜æ²¡æœ‰å¹²é‡æ´»ï¼Œå´è§‰å¾—èº«ä½“æåº¦ç–²ä¹", dim: "C" },
        { text: "ç”šè‡³å¤´çš®éƒ½æ„Ÿè§‰å‘ç´§ï¼Œæˆ–è€…æœ‰ç´§å¼ æ€§å¤´ç—›", dim: "C" },
        { text: "ç»å¸¸ä¸è‡ªè§‰åœ°å’¬ç´§ç‰™å…³æˆ–ç£¨ç‰™", dim: "C" },
        { text: "é¢ˆéƒ¨åƒµç¡¬ï¼Œè½¬åŠ¨æ—¶ä¸çµæ´»æˆ–æœ‰å“å£°", dim: "C" },
        { text: "èº«ä½“æŸå¤„è‚Œè‚‰ä¼šå‡ºç°æ¸¸èµ°æ€§çš„é…¸ç—›", dim: "C" },
        { text: "èµ°è·¯æ—¶æ„Ÿè§‰è…¿å‘è½¯ï¼Œåƒæ˜¯è¸©åœ¨æ£‰èŠ±ä¸Š", dim: "C" },
        { text: "æ¡åŠ›ä¸‹é™ï¼Œæ‹¿ä¸œè¥¿æ„Ÿè§‰ä¸å¦‚ä»¥å‰ç¨³", dim: "C" },
        { text: "æ—©æ™¨é†’æ¥æ—¶ï¼Œæ„Ÿè§‰èº«ä½“åƒè¢«'æ‰“äº†ä¸€é¡¿'ä¸€æ ·é…¸ç—›", dim: "C" },
        { text: "éœ€è¦é€šè¿‡ä¸æ–­å˜æ¢åå§¿æ¥ç¼“è§£èƒŒéƒ¨ä¸é€‚", dim: "C" },
        { text: "çœ¼çš®è·³åŠ¨æˆ–é¢éƒ¨è‚Œè‚‰æŠ½æ", dim: "C" },

        // å†…è„æ„Ÿå®˜ (12é¢˜)
        { text: "ç»å¸¸æ„Ÿåˆ°èƒƒéƒ¨ä¸é€‚ã€æ¶å¿ƒæˆ–åé…¸", dim: "D" },
        { text: "ç»å¸¸æ„Ÿåˆ°å¤´æ™•ã€æ™•çœ©æˆ–ç«™ç«‹ä¸ç¨³ï¼ˆéè´«è¡€å¯¼è‡´ï¼‰", dim: "D" },
        { text: "å–‰å’™é‡Œæ€»æ„Ÿè§‰æœ‰å¼‚ç‰©å µå¡ï¼Œåä¸å‡ºå’½ä¸ä¸‹ï¼ˆæ¢…æ ¸æ°”ï¼‰", dim: "D" },
        { text: "è‚ é“æ•æ„Ÿï¼Œå®¹æ˜“è…¹æ³»æˆ–ä¾¿ç§˜ï¼ˆè‚ æ˜“æ¿€ï¼‰", dim: "D" },
        { text: "æ„Ÿåˆ°èƒ¸å£é—·é—·çš„ï¼Œéœ€è¦æ·±å‘¼å¸æ‰èƒ½ç¼“è§£ï¼ˆå¹æ°”ï¼‰", dim: "D" },
        { text: "è§†åŠ›æ¨¡ç³Šæˆ–çœ¼å‰æœ‰é»‘å½±ï¼ˆæ’é™¤çœ¼ç§‘ç–¾ç—…ï¼‰", dim: "D" },
        { text: "è€³é¸£ï¼Œå¬åˆ°å—¡å—¡å£°æˆ–è‰é¸£å£°", dim: "D" },
        { text: "åå’½å›°éš¾ï¼Œåƒé¥­æ—¶æ„Ÿè§‰é£Ÿç‰©éš¾ä»¥ä¸‹å’½", dim: "D" },
        { text: "çš®è‚¤è«åç˜™ç—’ã€åˆºç—›æˆ–æœ‰èš‚èšçˆ¬çš„æ„Ÿè§‰", dim: "D" },
        { text: "èƒƒå£å˜å·®ï¼Œæˆ–è€…æš´é¥®æš´é£Ÿ", dim: "D" },
        { text: "æ„Ÿè§‰å‘¼å¸æ€¥ä¿ƒï¼Œæ°”å¸ä¸åˆ°åº•", dim: "D" },
        { text: "å¯¹å…‰çº¿æˆ–å£°éŸ³è¿‡åº¦æ•æ„Ÿï¼Œå®¹æ˜“æ„Ÿåˆ°åˆºçœ¼æˆ–åˆºè€³", dim: "D" }
    ];

    // è¯„åˆ†é€‰é¡¹
    const options = [
        { score: 0, text: "æ²¡æœ‰ / æ ¹æœ¬ä¸å›°æ‰°" },
        { score: 1, text: "è½»åº¦ / å¶å°”å‡ºç°" },
        { score: 2, text: "ä¸­åº¦ / ç»å¸¸å‡ºç°" },
        { score: 3, text: "ä¸¥é‡ / å‡ ä¹æ€»æ˜¯" }
    ];

    let currentIdx = 0;
    let scores = { A: 0, B: 0, C: 0, D: 0 };
    const questionsPerDim = 12;
    const maxScorePerDim = questionsPerDim * 3;

    // å¼€å§‹æµ‹è¯•
    function startTest() {
        document.getElementById('welcome-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'block';
        renderQuestion();
    }

    // æ¸²æŸ“é¢˜ç›®
    function renderQuestion() {
        const q = questions[currentIdx];
        
        // æ›´æ–°è¿›åº¦
        const progress = ((currentIdx) / questions.length) * 100;
        document.getElementById('progress').style.width = `${progress}%`;
        document.getElementById('progress-text').innerText = `${currentIdx + 1} / ${questions.length}`;

        // åŠ¨ç”»æ•ˆæœ
        const card = document.getElementById('question-card');
        card.classList.remove('fade-in-up');
        void card.offsetWidth;
        card.classList.add('fade-in-up');

        // è®¾ç½®é¢˜ç›®æ–‡æœ¬
        document.getElementById('question-text').innerText = q.text;
        
        // ç”Ÿæˆé€‰é¡¹æŒ‰é’®
        const optionsHtml = options.map(opt => `
            <div class="option-btn" onclick="handleAnswer(${opt.score})">
                <span>${opt.text}</span>
                <div class="option-circle"></div>
            </div>
        `).join('');
        
        document.querySelector('.options-grid').innerHTML = optionsHtml;
    }

    // å¤„ç†ç­”æ¡ˆ
    function handleAnswer(score) {
        scores[questions[currentIdx].dim] += score;
        currentIdx++;
        
        if (currentIdx < questions.length) {
            setTimeout(renderQuestion, 200);
        } else {
            document.getElementById('progress').style.width = `100%`;
            document.getElementById('progress-text').innerText = `å®Œæˆ`;
            setTimeout(generateResult, 600);
        }
    }

    // ç”Ÿæˆç»“æœ
    function generateResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';

        // è®¡ç®—ç™¾åˆ†åˆ¶å¾—åˆ†
        const data = {
            A: (scores.A / maxScorePerDim * 100).toFixed(0),
            B: (scores.B / maxScorePerDim * 100).toFixed(0),
            C: (scores.C / maxScorePerDim * 100).toFixed(0),
            D: (scores.D / maxScorePerDim * 100).toFixed(0)
        };

        // ç»˜åˆ¶é›·è¾¾å›¾
        const ctx = document.getElementById('resultChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['ç²¾ç¥ç„¦è™‘', 'æ¤ç‰©ç¥ç»', 'è‚Œè‚‰éª¨éª¼', 'å†…è„æ„Ÿå®˜'],
                datasets: [{
                    label: 'å‹åŠ›ç»´åº¦',
                    data: [data.A, data.B, data.C, data.D],
                    backgroundColor: 'rgba(161, 140, 209, 0.2)',
                    borderColor: '#a18cd1',
                    pointBackgroundColor: '#a18cd1',
                    borderWidth: 2,
                    pointRadius: 3
                }]
            },
            options: {
                scales: {
                    r: {
                        angleLines: { color: '#eee' },
                        grid: { color: '#eee' },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        ticks: { display: false },
                        pointLabels: {
                            font: { size: 12, family: 'sans-serif' },
                            color: '#666'
                        }
                    }
                },
                plugins: { legend: { display: false } },
                maintainAspectRatio: false
            }
        });

        // ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
        buildReport(data);
    }

    // æ„å»ºæŠ¥å‘Š
    function buildReport(data) {
        const reportDiv = document.getElementById('detailed-report');
        let html = '';
        
        // æ€»è¯„æ–‡æ¡ˆ
        const totalAvg = (parseInt(data.A)+parseInt(data.B)+parseInt(data.C)+parseInt(data.D))/4;
        let mainConclusionText = "";
        
        if(totalAvg < 25) {
            mainConclusionText = "ğŸŒ± çŠ¶æ€ä¼˜è‰¯ï¼šèº«å¿ƒèƒ½é‡å……æ²›";
        } else if(totalAvg < 50) {
            mainConclusionText = "âš ï¸ è½»åº¦è´Ÿè·ï¼šå­˜åœ¨æ½œåœ¨å‹åŠ›";
        } else if(totalAvg < 75) {
            mainConclusionText = "ğŸš¨ ä¸­åº¦å›°æ‰°ï¼šèº«å¿ƒå‡ºç°æ˜æ˜¾é¢„è­¦";
        } else {
            mainConclusionText = "ğŸ†˜ é‡åº¦è¿‡è½½ï¼šå»ºè®®å¯»æ±‚ä¸“ä¸šç–å¯¼";
        }
        document.getElementById('total-conclusion').innerText = mainConclusionText;

        // å„ç»´åº¦è§£é‡Š
        const definitions = {
            A: { 
                title: "ğŸ§  ç²¾ç¥ç„¦è™‘ (Mental Anxiety)", 
                desc: "æ­¤ç»´åº¦åæ˜ äº†æ‚¨<strong>å¤§è„‘çš„'è¿‡è½½ç¨‹åº¦'</strong>ã€‚é«˜åˆ†é€šå¸¸æ„å‘³ç€æ‚¨çš„å‰é¢å¶çš®å±‚ï¼ˆè´Ÿè´£æ€è€ƒçš„åŒºåŸŸï¼‰å¤„äºæŒç»­å…´å¥‹çŠ¶æ€ã€‚<br><br><strong>å…¸å‹ç”»åƒï¼š</strong>æ‚¨å¯èƒ½æ„Ÿè§‰å¤§è„‘åƒåœä¸ä¸‹æ¥çš„é©¬è¾¾ï¼Œå®¹æ˜“å¯¹æœªæ¥è¿›è¡Œç¾éš¾åŒ–è®¾æƒ³ï¼Œä¸”ä¼´éšæ³¨æ„åŠ›æ¶£æ•£å’Œç¡çœ è´¨é‡ä¸‹é™ã€‚è¿™ç§ç„¦è™‘ä¸»è¦åœç•™åœ¨æ€ç»´å±‚é¢ã€‚",
                advice: "1. <strong>æ€ç»´é˜»æ–­æ³•ï¼š</strong>å½“æ‹…å¿§å‡ºç°æ—¶ï¼Œå¤§å£°å¯¹è‡ªå·±è¯´'åœ'ï¼Œå¹¶å¼ºè¡Œè½¬ç§»æ³¨æ„åŠ›ã€‚<br>2. <strong>ä¹¦å†™ç–—æ„ˆï¼š</strong>æ¯å¤©èŠ±15åˆ†é’Ÿå°†æ‰€æœ‰æ‹…å¿ƒçš„äº‹å†™åœ¨çº¸ä¸Šï¼Œå†™å®Œåæ’•æ‰ï¼Œç»™äºˆå¤§è„‘'å·²å¤„ç†'çš„ä¿¡å·ã€‚" 
            },
            B: { 
                title: "ğŸ’“ æ¤ç‰©ç¥ç»/æƒŠæ (Autonomic)", 
                desc: "æ­¤ç»´åº¦åæ˜ äº†æ‚¨<strong>äº¤æ„Ÿç¥ç»ç³»ç»Ÿçš„æ´»è·ƒåº¦</strong>ã€‚é«˜åˆ†æ„å‘³ç€èº«ä½“çš„'æˆ˜æ–—æˆ–é€ƒè·‘'æœºåˆ¶è¿‡äºçµæ•ã€‚<br><br><strong>å…¸å‹ç”»åƒï¼š</strong>æ‚¨å¯èƒ½åœ¨æ¯«æ— é¢„å…†çš„æƒ…å†µä¸‹çªç„¶æ„Ÿåˆ°å¿ƒæ…Œã€å‡ºæ±—æˆ–é¢¤æŠ–ã€‚è¿™å¹¶éå¿ƒè„é—®é¢˜ï¼Œè€Œæ˜¯ç¥ç»ç³»ç»Ÿåœ¨é”™è¯¯çš„æŠ¥è­¦ã€‚æ‚¨çš„èº«ä½“è¯¯ä»¥ä¸ºé‡åˆ°äº†è€è™ï¼Œæ‰€ä»¥è°ƒåŠ¨äº†å…¨éƒ¨èƒ½é‡å‡†å¤‡é€ƒè·‘ã€‚",
                advice: "1. <strong>ç”Ÿç†é‡ç½®ï¼š</strong>æ„Ÿåˆ°æƒŠææ—¶ï¼Œç”¨å†·æ°´æ³¼è„¸ï¼ˆæ½œæ°´åå°„ï¼‰å¯è¿…é€Ÿé™ä½å¿ƒç‡ã€‚<br>2. <strong>è…¹å¼å‘¼å¸ï¼š</strong>å¸æ°”4ç§’ï¼Œæ†‹æ°”7ç§’ï¼Œå‘¼æ°”8ç§’ã€‚ç¼“æ…¢çš„å‘¼æ°”èƒ½æ¿€æ´»å‰¯äº¤æ„Ÿç¥ç»ï¼Œå‘Šè¯‰èº«ä½“'ç°åœ¨æ˜¯å®‰å…¨çš„'ã€‚" 
            },
            C: { 
                title: "ğŸ’ª è‚Œè‚‰éª¨éª¼ (Musculoskeletal)", 
                desc: "è¿™æ˜¯<strong>æƒ…ç»ªå‹åŠ›å®ä½“åŒ–</strong>çš„æœ€å¸¸è§é€šé“ã€‚å½“æˆ‘ä»¬å‹æŠ‘æ„¤æ€’æˆ–ææƒ§æ—¶ï¼Œèº«ä½“ä¼šæœ¬èƒ½åœ°ç´§ç»·è‚Œè‚‰ä»¥ç¤ºé˜²å¾¡ã€‚<br><br><strong>å…¸å‹ç”»åƒï¼š</strong>æ‚¨çš„ç–¼ç—›å¾€å¾€æ˜¯æ¸¸èµ°æ€§çš„ï¼Œä»Šå¤©èƒŒç—›ï¼Œæ˜å¤©è‚©è†€ç—›ï¼Œä¸”ä¼‘æ¯åéš¾ä»¥ç¼“è§£ã€‚è¿™é€šå¸¸ä»£è¡¨äº†ä¸€ç§'é•¿æœŸæ‰¿å—é‡è´Ÿ'çš„å¿ƒç†éšå–»ã€‚æ‚¨å¯èƒ½ä¹ æƒ¯äº†ç‹¬è‡ªæ‰›ä¸‹è´£ä»»ï¼Œèº«ä½“åœ¨æ›¿æ‚¨å–Šç´¯ã€‚",
                advice: "1. <strong>æ¸è¿›å¼æ”¾æ¾ï¼š</strong>æ¯å¤©ç¡å‰ä»è„šè¶¾åˆ°å¤´çš®ï¼Œé€ä¸ªéƒ¨ä½ç”¨åŠ›ç»·ç´§5ç§’ï¼Œå†ç¬é—´å½»åº•æ”¾æ¾ï¼Œä½“ä¼šæ¾å¼›çš„æ„Ÿè§‰ã€‚<br>2. <strong>éæš´åŠ›æ²Ÿé€šï¼š</strong>å°è¯•è¡¨è¾¾æ‚¨çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯é»˜é»˜å¿å—ã€‚é‡Šæ”¾æƒ…ç»ªï¼Œè‚Œè‚‰æ‰ä¼šæ¾ç»‘ã€‚" 
            },
            D: { 
                title: "ğŸ« å†…è„æ„Ÿå®˜ (Visceral)", 
                desc: "è¿™æ˜¯<strong>æ·±åº¦èº¯ä½“åŒ–</strong>çš„è¡¨ç°ï¼Œå‹åŠ›å¼€å§‹æ”»å‡»æ‚¨æœ€è–„å¼±çš„å™¨å®˜ç³»ç»Ÿï¼ˆæ¶ˆåŒ–ã€å‘¼å¸æˆ–æ„ŸçŸ¥ï¼‰ã€‚<br><br><strong>å…¸å‹ç”»åƒï¼š</strong>å»åŒ»é™¢æ£€æŸ¥å¾€å¾€æŸ¥ä¸å‡ºå™¨è´¨æ€§ç—…å˜ï¼Œä½†éš¾å—å´æ˜¯çœŸå®çš„ã€‚å¦‚'æ¢…æ ¸æ°”'ï¼ˆå–‰å’™å¼‚ç‰©æ„Ÿï¼‰æˆ–'è‚ æ˜“æ¿€ç»¼åˆå¾'ï¼Œè¿™äº›éƒ½æ˜¯æƒ…ç»ªåœ¨èº«ä½“å†…éƒ¨æ‰“æ¶çš„è¯æ®ã€‚æ‚¨å¯èƒ½æ‹¥æœ‰é«˜æ•æ„Ÿç‰¹è´¨ï¼Œå¯¹èº«ä½“ä¿¡å·æ ¼å¤–æ•é”ã€‚",
                advice: "1. <strong>è§„å¾‹èŠ‚å¾‹ï¼š</strong>å†…è„æœ€æ€•æ— åºã€‚å›ºå®šåƒé¥­å’Œç¡è§‰çš„æ—¶é—´ï¼Œèƒ½æå¤§æŠšå¹³å†…è„çš„ç„¦èºã€‚<br>2. <strong>æ¸©å’Œæœ‰æ°§ï¼š</strong>ç‘œä¼½ã€å¤ªææˆ–å¿«èµ°ã€‚é¿å…å‰§çƒˆè¿åŠ¨ï¼Œæ¸©å’Œçš„è¿åŠ¨èƒ½ä¿ƒè¿›å†…å•¡è‚½åˆ†æ³Œï¼Œæ˜¯å¤©ç„¶çš„é•‡ç—›å‰‚ã€‚" 
            }
        };

        // ç”Ÿæˆå„ç»´åº¦æŠ¥å‘Šå¡ç‰‡
        ['A', 'B', 'C', 'D'].forEach(key => {
            const val = parseInt(data[key]);
            let color = '#1dd1a1';
            let level = 'æ­£å¸¸';
            
            if (val >= 25) { color = '#feca57'; level = 'è½»åº¦'; }
            if (val >= 50) { color = '#ff9f43'; level = 'ä¸­åº¦'; }
            if (val >= 75) { color = '#ff6b6b'; level = 'é‡åº¦'; }

            html += `
                <div class="result-section section-${key}">
                    <div class="section-title">
                        <span>${definitions[key].title.split(' ')[0]}</span>
                        ${definitions[key].title.split(' ')[1]}
                    </div>
                    
                    <div class="score-bar-container">
                        <div class="score-label">
                            <span style="font-weight:bold; color:${color}">æŒ‡æ•°ï¼š${val}</span>
                            <span style="color:${color}; border:1px solid ${color}; padding:2px 8px; border-radius:10px; font-size:11px;">${level}</span>
                        </div>
                        <div class="score-track">
                            <div class="score-val" style="width: ${val}%; background: ${color};"></div>
                        </div>
                    </div>

                    <div class="analysis-block">
                        <span class="analysis-label">æ·±åº¦è§£ç </span>
                        <div class="analysis-content">${definitions[key].desc}</div>
                    </div>
                    
                    <div class="analysis-block" style="margin-top:15px; background:rgba(255,255,255,0.5); padding:10px; border-radius:8px;">
                        <span class="analysis-label" style="color:#6a85b6;">å¿ƒç†å¤„æ–¹</span>
                        <div class="analysis-content">${definitions[key].advice}</div>
                    </div>
                </div>
            `;
        });

        reportDiv.innerHTML = html;
    }
</script>

</body>
</html>